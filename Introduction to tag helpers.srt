1 
00:00:00.340 --> 00:00:02.200
Hi, I'm Scott Hanselman.

2 
00:00:02.201 --> 00:00:03.412
>> Hey, I'm Jeff Fritz.

3 
00:00:03.413 --> 00:00:08.064
>> And this is, the intermediateASP.NET Core 1.0 MVA.

4 
00:00:08.065 --> 00:00:12.237
If you haven't seen it already,be sure to check out our beginner,

5 
00:00:12.238 --> 00:00:14.080
Virtual Academy that we did.

6 
00:00:14.081 --> 00:00:16.520
We got a whole day ofgreat content there,

7 
00:00:16.521 --> 00:00:18.836
to get you started at the 101 level.

8 
00:00:18.837 --> 00:00:21.784
And I would say, this is moreof a 201, wouldn't you say?

9 
00:00:21.785 --> 00:00:22.504
>> Yeah.Okay.

10 
00:00:22.505 --> 00:00:24.610
>> Let's get somedeeper things here.

11 
00:00:24.611 --> 00:00:26.370
>> So let's do this.

12 
00:00:26.371 --> 00:00:30.410
Let's start with a littlediscussion, about where we left off

13 
00:00:30.411 --> 00:00:33.580
and we're looking at this littlebasic Movies application.

14 
00:00:33.581 --> 00:00:34.770
It's not really complicated.

15 
00:00:34.771 --> 00:00:38.130
But this particular segment,is gonna focus on Tag Helpers,

16 
00:00:38.131 --> 00:00:40.970
which we've briefly touched on,but didn't really dig into.

17 
00:00:40.971 --> 00:00:41.830
>> Okay.

18 
00:00:41.831 --> 00:00:44.670
>> So let's fire this up andwe'll take a look,

19 
00:00:44.671 --> 00:00:49.300
at our fantasticallysophisticated Movies database.

20 
00:00:49.301 --> 00:00:51.018
This was actuallyjust auto generated.

21 
00:00:51.019 --> 00:00:54.580
We went add controller andwe did a little bit of crud, and

22 
00:00:54.581 --> 00:00:57.220
we ended up with somepretty basic stuff.

23 
00:00:57.221 --> 00:00:57.750
>> Crud.

24 
00:00:57.751 --> 00:01:00.410
You mean create, read,update, delete, right?

25 
00:01:00.411 --> 00:01:01.950
>> Exactly.So when you say crud,

26 
00:01:01.951 --> 00:01:04.780
it's like, I got some stuff andI need to do the basics.

27 
00:01:04.781 --> 00:01:06.310
So speaking of crud,

28 
00:01:06.311 --> 00:01:11.160
if we look over here on the side,we've got Delete and then Details.

29 
00:01:11.161 --> 00:01:15.300
It's kind of the extra D, in crud.

30 
00:01:15.301 --> 00:01:17.440
How does this get generated, though.

31 
00:01:17.441 --> 00:01:18.960
We know that there isa four loop in there,

32 
00:01:18.961 --> 00:01:21.510
so let's go andjust explore that for a moment.

33 
00:01:21.511 --> 00:01:25.005
If we go andlook at the Movies controller,

34 
00:01:25.006 --> 00:01:29.671
briefly We can see our GET.

35 
00:01:29.672 --> 00:01:31.811
So there's out GET on Index.

36 
00:01:31.812 --> 00:01:33.519
So you hit, /Movie/Index.

37 
00:01:33.520 --> 00:01:35.240
You end up here.

38 
00:01:35.241 --> 00:01:40.150
We grab the Movies, we put them ina list and then list of Movies,

39 
00:01:40.151 --> 00:01:43.723
gets sent back over to the view,alright?

40 
00:01:43.724 --> 00:01:44.250
>> Yes.

41 
00:01:44.251 --> 00:01:45.972
So then,let's look at our list here.

42 
00:01:47.918 --> 00:01:50.650
We have an IEnumerable of Movie.

43 
00:01:50.651 --> 00:01:54.646
And we mentioned before, that thisis a forward only way of going

44 
00:01:54.647 --> 00:01:57.060
through Movies, it's on a list.

45 
00:01:57.061 --> 00:01:58.580
>> You can go forward, butyou can't go backwards.

46 
00:01:59.800 --> 00:02:02.260
What's going on here, Jeff?

47 
00:02:03.610 --> 00:02:07.050
>> This purple bold text,these are Tag Helpers.

48 
00:02:07.051 --> 00:02:09.620
So, it's an anchor tag.

49 
00:02:09.621 --> 00:02:14.250
It's an HTML anchor tag, butwe've added a little extra to it,

50 
00:02:14.251 --> 00:02:16.460
to make it C# aware.

51 
00:02:16.461 --> 00:02:20.005
It's gonna have some codethat execute server side,

52 
00:02:20.006 --> 00:02:23.590
that'll generate andadd on some features to that.

53 
00:02:23.591 --> 00:02:26.697
So in this case.We have this asp-action attribute,

54 
00:02:26.698 --> 00:02:29.569
that we've added onto the anchor tag.

55 
00:02:29.570 --> 00:02:34.557
Now, we're adding a feature to it tosay, let's create an anchor tag for

56 
00:02:34.558 --> 00:02:39.280
the Create action, that's definedinside my asp controller.

57 
00:02:39.281 --> 00:02:47.083
>> Couldn't I just go <ahref= "/movies/create">New,

58 
00:02:47.084 --> 00:02:51.590
and that's pretty much just fine.

59 
00:02:51.591 --> 00:02:53.430
Like, why do I not just do that.

60 
00:02:53.431 --> 00:02:55.210
>> You know what, that you right.

61 
00:02:55.211 --> 00:02:57.720
That works right now.

62 
00:02:57.721 --> 00:03:00.550
In the future,if you move things around.

63 
00:03:00.551 --> 00:03:04.880
If you rename some of those things,you're gonna lose track of them.

64 
00:03:04.881 --> 00:03:08.070
By using the action attribute here,we're using routing.

65 
00:03:08.071 --> 00:03:12.070
And we're getting this ability tomap and recreate that route, based

66 
00:03:12.071 --> 00:03:15.975
on how our URL scheme, has beendefined inside of our application.

67 
00:03:15.976 --> 00:03:18.420
>> That's an important reminder,that routing it's two-way.

68 
00:03:18.421 --> 00:03:19.200
>> Yes.

69 
00:03:19.201 --> 00:03:23.850
>> Right, sothe idea being that if /movies/index

70 
00:03:23.851 --> 00:03:28.540
comes in as the URL, we figure outthat it's the, Movies controller.

71 
00:03:28.541 --> 00:03:31.761
But we can also say, given anyfunction on a Movies controller,

72 
00:03:31.762 --> 00:03:33.204
what will the URL look like.

73 
00:03:33.205 --> 00:03:36.169
Does that mean, I couldtheoretically change this to films.

74 
00:03:36.170 --> 00:03:39.550
And I will do it in one place,instead of changing it anywhere?

75 
00:03:39.551 --> 00:03:42.995
>> Exactly, so now that givesus that two-way capability,

76 
00:03:42.996 --> 00:03:45.790
if we change that inour configuration.

77 
00:03:45.791 --> 00:03:47.730
>> Everywhere that uses routing,

78 
00:03:47.731 --> 00:03:49.810
will automatically be updated forus.

79 
00:03:49.811 --> 00:03:52.720
>> Why is this purple andthis is not purple,

80 
00:03:52.721 --> 00:03:54.490
in my Visual Studio editor?

81 
00:03:54.491 --> 00:03:57.630
>> Right, so this is that visualcue that we're being given,

82 
00:03:57.631 --> 00:03:59.850
to show that there's some C# code.

83 
00:03:59.851 --> 00:04:03.130
There's some Server side code,that's gonna execute,

84 
00:04:03.131 --> 00:04:07.810
to reformat this tag a little bitfor us and do some extra work.

85 
00:04:07.811 --> 00:04:11.830
>> Now, the HTML Editor inVisual Studio as I start typing,

86 
00:04:11.831 --> 00:04:15.510
gives me all of thesebits of intelligence for

87 
00:04:15.511 --> 00:04:18.110
things that are built in to html.

88 
00:04:18.111 --> 00:04:21.290
>> And a number of them,have this dot dot dot.

89 
00:04:21.291 --> 00:04:24.630
So for example, forAccessibility like aria.

90 
00:04:24.631 --> 00:04:27.925
>> I say ..., andthen it opens up a second level.

91 
00:04:27.926 --> 00:04:31.282
>> Mm-hm.>> I see the same thing for asp-.

92 
00:04:31.283 --> 00:04:37.400
So it knows, that's not HTML though.

93 
00:04:37.401 --> 00:04:42.010
>> No, these are the Tag Helpersthat are available to us,

94 
00:04:42.011 --> 00:04:43.220
on the anchor.

95 
00:04:43.221 --> 00:04:46.200
These are properties,that we can start to light up

96 
00:04:46.201 --> 00:04:50.260
to add additional features, to howthat anchor tag is going to behave.

97 
00:04:50.261 --> 00:04:50.980
>> Okay.

98 
00:04:50.981 --> 00:04:55.660
So it looks to me like,then if I say asp-action.

99 
00:04:55.661 --> 00:04:59.280
So look at that, it's purple.

100 
00:04:59.281 --> 00:05:00.530
>> So it's Tag Helper?

101 
00:05:00.531 --> 00:05:01.720
Not a Tag Helper.

102 
00:05:01.721 --> 00:05:02.290
>> Right.

103 
00:05:02.291 --> 00:05:03.499
>> And then we go like this.

104 
00:05:05.100 --> 00:05:06.420
>> And put in Create.

105 
00:05:06.421 --> 00:05:09.340
That is an action on the controller,

106 
00:05:09.341 --> 00:05:12.191
that this current viewhas been rendered by.

107 
00:05:12.192 --> 00:05:13.159
>> Right.By default,

108 
00:05:13.160 --> 00:05:16.168
it's the controllerthat presents this.

109 
00:05:16.169 --> 00:05:17.330
>> That presents this, okay.

110 
00:05:17.331 --> 00:05:22.048
So, let's look at this andthen do a Ctrl+F5 and,

111 
00:05:22.049 --> 00:05:26.564
let's look at the source andsee the difference.

112 
00:05:30.794 --> 00:05:32.062
So we're gonna bring this up.

113 
00:05:35.634 --> 00:05:37.459
Where is our p?

114 
00:05:39.609 --> 00:05:40.650
There we go.

115 
00:05:40.651 --> 00:05:45.709
So here, we see asp-action,that's a Tag Helper.

116 
00:05:45.710 --> 00:05:50.213
It rendered that way.

117 
00:05:50.214 --> 00:05:54.064
Now, people who might have a littlebit of historical context,

118 
00:05:54.065 --> 00:05:58.217
might hear servers like rendering,and they might think web forms.

119 
00:05:58.218 --> 00:06:01.871
And they might think, life cyclesand controls and thing like that,

120 
00:06:01.872 --> 00:06:03.500
but this is a control.

121 
00:06:03.501 --> 00:06:06.295
And, remember how we mentioned,that the movies are forward only?

122 
00:06:06.296 --> 00:06:08.404
>> Yes.>> Tag helpers are forward only,

123 
00:06:08.405 --> 00:06:11.659
also in the sense ofyou're rendering the HTML.

124 
00:06:11.660 --> 00:06:15.267
And you don't get a chance to goback and render a visual tree, and

125 
00:06:15.268 --> 00:06:17.510
stuff like you did with web forms.

126 
00:06:17.511 --> 00:06:21.050
>> Right, you're only acting withinthe scope of the beginning of that

127 
00:06:21.051 --> 00:06:21.870
A tag.

128 
00:06:21.871 --> 00:06:23.009
To the ending of that A tag.

129 
00:06:23.010 --> 00:06:24.987
>> And anything that's hanging.

130 
00:06:24.988 --> 00:06:27.659
>> Anything in between,you can push a little bit into.

131 
00:06:27.660 --> 00:06:31.468
>> But this Tag Helper couldn'tbe written, that it could go and

132 
00:06:31.469 --> 00:06:35.582
manipulate this table, or dosomething in the bottom of the page.

133 
00:06:35.583 --> 00:06:38.196
>> That you've already lost scope,and

134 
00:06:38.197 --> 00:06:41.558
it's already been renderedto the output HTML.

135 
00:06:41.559 --> 00:06:44.868
>> Now in ASP.net NVC in the past,

136 
00:06:44.869 --> 00:06:48.922
I would see peopledo things like this.

137 
00:06:54.738 --> 00:06:57.610
And we would say, Movies.

138 
00:06:59.720 --> 00:07:03.330
My little smart quotes,kinda went all messed up there.

139 
00:07:03.331 --> 00:07:05.820
And create or whatever,and you would go and

140 
00:07:05.821 --> 00:07:10.356
create this action link,and it was a little weird.

141 
00:07:10.357 --> 00:07:13.220
What's wrong with this,what's wrong with that?

142 
00:07:13.221 --> 00:07:15.830
I mean, it worked before,it didn't quite look like this.

143 
00:07:15.831 --> 00:07:20.175
But why is,Tag Helper superior over this?

144 
00:07:20.176 --> 00:07:23.217
>> And the HTML helpers, they'renice, they're still there and

145 
00:07:23.218 --> 00:07:24.240
they can still work.

146 
00:07:24.241 --> 00:07:26.830
>> I'm still using them here,there's very good uses for them.

147 
00:07:26.831 --> 00:07:27.780
>> Absolutely.

148 
00:07:27.781 --> 00:07:32.420
But, it gets us out ofthat HTML editing mindset.

149 
00:07:32.421 --> 00:07:33.980
We're not writing tags any more.

150 
00:07:33.981 --> 00:07:37.354
We've flipped context,we're now writing C#.

151 
00:07:37.355 --> 00:07:40.962
And if we need to reach into some of those things,

152 
00:07:40.963 --> 00:07:46.530
that are HTML centric, you now needto generate text, inside of your C#.

153 
00:07:46.531 --> 00:07:49.290
To go and place thoseitems inside of your tags.

154 
00:07:49.291 --> 00:07:52.280
So, we lose all of this greatfunctionality that's built in to

155 
00:07:52.281 --> 00:07:57.660
Visual Studio, so that we can go andcreate C# strings,

156 
00:07:57.661 --> 00:08:01.040
inside of that actionlink method instead.

157 
00:08:01.041 --> 00:08:05.020
>> Another way to think about it, isthat we would be riding some HTML,

158 
00:08:05.021 --> 00:08:07.930
and we'd thinkingabout things in HTML.

159 
00:08:07.931 --> 00:08:12.580
And then suddenly,we're in this weird grey world,

160 
00:08:12.581 --> 00:08:14.932
where we're writing some C#.

161 
00:08:14.933 --> 00:08:18.410
And the context switch,is very disruptive.

162 
00:08:18.411 --> 00:08:21.030
>> It is, it is very disruptiveto context switch, back and

163 
00:08:21.031 --> 00:08:21.900
forth the C#.

164 
00:08:21.901 --> 00:08:24.828
And think about if you're doingthat, in the middle of JavaScript.

165 
00:08:24.829 --> 00:08:28.610
Now you're flip-flopping betweenHTML, JavaScript and C#.

166 
00:08:28.611 --> 00:08:30.370
That's a real nightmare.

167 
00:08:30.371 --> 00:08:33.330
So we've simplified things, sohopefully you're only context

168 
00:08:33.331 --> 00:08:35.990
switching, between HTML andJavaScript again.

169 
00:08:35.991 --> 00:08:37.200
>> Yeah, exactly.

170 
00:08:37.201 --> 00:08:41.815
So, this additionally, we've gota string here with a magic string.

171 
00:08:41.816 --> 00:08:42.345
>> Yes.

172 
00:08:42.346 --> 00:08:43.025
>> Right.So,

173 
00:08:43.026 --> 00:08:47.155
there's nothing here that allow'sVisual Studio or the editor,

174 
00:08:47.156 --> 00:08:48.185
to see into that.

175 
00:08:48.186 --> 00:08:50.885
So by accidentally, misspelled that.

176 
00:08:50.886 --> 00:08:52.725
It's still gonna compile, just fine.

177 
00:08:52.726 --> 00:08:54.175
There's no problem with that.

178 
00:08:54.176 --> 00:08:57.490
And i'm not gonna know that,that link doesn't work.

179 
00:08:57.491 --> 00:08:58.760
Until I click on it.

180 
00:08:58.761 --> 00:09:00.119
It'll even render correctly.

181 
00:09:00.120 --> 00:09:02.143
>> Yeah,it'll render just fine, but.

182 
00:09:02.144 --> 00:09:05.970
>> And that is a problem.

183 
00:09:05.971 --> 00:09:10.380
So, that is an exampleof one Tag Helper.

184 
00:09:10.381 --> 00:09:11.910
In fact,there's a whole series of them.

185 
00:09:11.911 --> 00:09:17.090
And they get added in,with this command, addTagHelper.

186 
00:09:17.091 --> 00:09:23.690
And we saw before, we can say,@model, and then have Movies.

187 
00:09:23.691 --> 00:09:26.320
That usually goes atthe top of the view.

188 
00:09:26.321 --> 00:09:31.020
But if I look for addTagHelperat the top of this view,

189 
00:09:31.021 --> 00:09:33.300
I see the @model.

190 
00:09:33.301 --> 00:09:36.230
I do not see, the Tag Helper adding.

191 
00:09:36.231 --> 00:09:37.829
How does it know aboutthis Tag Helper?

192 
00:09:37.830 --> 00:09:41.673
>> So, previously when we weredoing things in IIS and we had

193 
00:09:41.674 --> 00:09:46.319
that Web.config, that was ableto drive configuration settings,

194 
00:09:46.320 --> 00:09:48.819
down into our pages andto our views.

195 
00:09:48.820 --> 00:09:51.454
We can stash things over there andit would just be,

196 
00:09:51.455 --> 00:09:52.749
inherited by our views.

197 
00:09:52.750 --> 00:09:56.442
So instead now, we use thisview imports cshtml page,

198 
00:09:56.443 --> 00:09:59.827
that you can find at the rootof your views folder.

199 
00:09:59.828 --> 00:10:05.217
And everything that's listedinside that _ViewImports.cshtml

200 
00:10:05.218 --> 00:10:10.030
gets applied to the top ofevery one of our CSHTML sheets.

201 
00:10:10.031 --> 00:10:10.680
>> Okay.

202 
00:10:10.681 --> 00:10:11.610
So this is interesting.

203 
00:10:11.611 --> 00:10:13.700
It's got a bunch of usingstatements as well.

204 
00:10:13.701 --> 00:10:18.080
So I can probably simplify my modelthere and because I have using.

205 
00:10:18.081 --> 00:10:18.930
I have scope.

206 
00:10:18.931 --> 00:10:19.740
>> Yep.

207 
00:10:19.741 --> 00:10:21.257
>> Here we're saying,

208 
00:10:21.258 --> 00:10:24.971
add all of the Tag Helpersthat are in this assembly.

209 
00:10:24.972 --> 00:10:28.286
And this assembly comeswith ASP.NET Core.

210 
00:10:28.287 --> 00:10:30.500
This is somethingthat ships with it.

211 
00:10:30.501 --> 00:10:32.580
And we can go anddig around in here, and

212 
00:10:32.581 --> 00:10:34.606
find out how that got brought in.

213 
00:10:34.607 --> 00:10:37.580
It got brought in as a part of MVC.

214 
00:10:37.581 --> 00:10:40.270
And of course,the source is all open source.

215 
00:10:40.271 --> 00:10:42.690
We can go up to GitHub andlook at that code.

216 
00:10:42.691 --> 00:10:45.640
But here's what you get, right?

217 
00:10:45.641 --> 00:10:49.840
You get Tag Helpers forForms and Inputs and Links.

218 
00:10:49.841 --> 00:10:51.660
This one's really cool, Cache.

219 
00:10:51.661 --> 00:10:53.260
And I think Environmentis really fun.

220 
00:10:53.261 --> 00:10:56.158
>> Yeah, a lot of those otherones look like normal HTML tags.

221 
00:10:56.159 --> 00:10:58.813
Anchor is kind of spelled out alittle bit cuz it's kind of weird to

222 
00:10:58.814 --> 00:11:00.906
have tags [CROSSTALK] A>> Anchor is A.

223 
00:11:00.907 --> 00:11:02.165
>> So yeah.

224 
00:11:02.166 --> 00:11:03.110
>> But that's a really good point.

225 
00:11:03.111 --> 00:11:03.860
So let's think about that.

226 
00:11:03.861 --> 00:11:05.192
Let's sort this.

227 
00:11:05.193 --> 00:11:07.136
That's HTML.

228 
00:11:08.939 --> 00:11:10.695
That's not HTML.

229 
00:11:10.696 --> 00:11:11.850
>> Yep.>> So

230 
00:11:11.851 --> 00:11:17.360
Tag Helpers don't necessarily haveto augment an existing HTML tag.

231 
00:11:17.361 --> 00:11:19.710
>> Right,you can create your own tags.

232 
00:11:19.711 --> 00:11:22.560
And provide behavior forthose things.

233 
00:11:22.561 --> 00:11:25.190
>> And that also bringsup an interesting point.

234 
00:11:25.191 --> 00:11:30.020
If we look here to, this is really

235 
00:11:30.021 --> 00:11:34.826
overriding a tag almost and addingan attribute to the tag, right?

236 
00:11:34.827 --> 00:11:35.326
>> Right.>> Right.

237 
00:11:35.327 --> 00:11:35.826
>> We're enhancing it.

238 
00:11:35.827 --> 00:11:36.664
>> I go like that.

239 
00:11:36.665 --> 00:11:38.155
>> Exactly, we're enhancing the tag.

240 
00:11:38.156 --> 00:11:38.794
See how I,

241 
00:11:38.795 --> 00:11:41.090
now it's not a tag helper.Now it is.

242 
00:11:41.091 --> 00:11:46.360
But I know for a fact that thereisn't a such thing called cache.

243 
00:11:46.361 --> 00:11:47.090
>> No.

244 
00:11:47.091 --> 00:11:48.530
>> As a tag in HTML.

245 
00:11:48.531 --> 00:11:51.170
>> I know they added a lot to HTML5, but they didn't add cache.

246 
00:11:51.171 --> 00:11:52.620
>> They did not add cache.

247 
00:11:52.621 --> 00:11:53.710
So let's do this.

248 
00:11:53.711 --> 00:11:56.680
Let's run this again.

249 
00:11:56.681 --> 00:11:59.650
And because it's Razor,we can make it change and refresh.

250 
00:11:59.651 --> 00:12:01.480
Make it change and refresh.

251 
00:12:01.481 --> 00:12:04.137
So let's go in here,we'll go to /movies.

252 
00:12:05.332 --> 00:12:09.110
And I'm just gonna put that here,and I'll put that there, all right?

253 
00:12:09.111 --> 00:12:10.810
And this is how I typically work.

254 
00:12:10.811 --> 00:12:11.940
I think you're probably the same?>> Sure.

255 
00:12:11.941 --> 00:12:13.390
I'm very sure, yep.>> I wanna make sure that I'm

256 
00:12:13.391 --> 00:12:14.460
really there.

257 
00:12:14.461 --> 00:12:16.360
So I'll go and hit refresh.

258 
00:12:16.361 --> 00:12:19.520
Now I've proven that thatRazor is in fact that.

259 
00:12:19.521 --> 00:12:23.760
So I'm just editingthe index.cshtml view.

260 
00:12:23.761 --> 00:12:25.630
We're in the movies view here.

261 
00:12:25.631 --> 00:12:29.430
And we can go andadd something to that.

262 
00:12:29.431 --> 00:12:30.500
All right?

263 
00:12:30.501 --> 00:12:34.110
So, the cache,as soon as we hit that.

264 
00:12:34.111 --> 00:12:35.120
Look at that.

265 
00:12:35.121 --> 00:12:37.620
There's also distributed cache.

266 
00:12:37.621 --> 00:12:38.480
>> Ooh.>> Yeah.

267 
00:12:38.481 --> 00:12:40.382
So if I was gonna dosomething in a web farm and

268 
00:12:40.383 --> 00:12:42.481
I wanna make sure I canplug this into Redis.

269 
00:12:42.482 --> 00:12:43.138
>> Yeah.>> For

270 
00:12:43.139 --> 00:12:46.580
a more advanced cast that spansmultiple machines in a web farm.

271 
00:12:46.581 --> 00:12:47.120
>> Sure.

272 
00:12:47.121 --> 00:12:47.859
>> Okay.

273 
00:12:47.860 --> 00:12:50.370
So cache pops up.

274 
00:12:50.371 --> 00:12:53.050
What does cache haveavailable to me?

275 
00:12:54.120 --> 00:13:00.090
Enabled, expires, priority andthen a vary, vary by.

276 
00:13:00.091 --> 00:13:02.670
This feels like ASP.NET of old.

277 
00:13:02.671 --> 00:13:07.000
>> Yeah, this looks like the sametypes of cache vary by headers that

278 
00:13:07.001 --> 00:13:10.938
we had on our page directiveinside of web forms.

279 
00:13:10.939 --> 00:13:13.590
And it's built very muchwith the same types of

280 
00:13:13.591 --> 00:13:15.030
output cache management.

281 
00:13:15.031 --> 00:13:15.680
>> Right.

282 
00:13:15.681 --> 00:13:18.560
The idea being that I wantthis to be cached and

283 
00:13:18.561 --> 00:13:23.380
I want it to vary by, for example,a header like the user's language.

284 
00:13:23.381 --> 00:13:24.650
>> Sure.>> So if I'm gonna go and

285 
00:13:24.651 --> 00:13:29.400
cache someone in like a date timeand the first person who shows up to

286 
00:13:29.401 --> 00:13:32.270
my site happens to speak French,I could

287 
00:13:32.271 --> 00:13:36.680
cache the French long date time andthen deliver it to everyone else.

288 
00:13:36.681 --> 00:13:39.970
If I wasn't varying the cacheby a particular switch.

289 
00:13:39.971 --> 00:13:42.590
>> And then everybody getsthe French look and feel.

290 
00:13:42.591 --> 00:13:43.890
The French culture.

291 
00:13:43.891 --> 00:13:46.350
Even though you might bein the United States.

292 
00:13:46.351 --> 00:13:47.260
>> Exactly.

293 
00:13:47.261 --> 00:13:50.182
So let's take a look atan example for cache.

294 
00:13:52.180 --> 00:13:56.605
Here is, I'm gonna move this over.

295 
00:14:00.652 --> 00:14:03.849
We're gonna say this cacheexpires in 30 seconds.

296 
00:14:04.900 --> 00:14:07.445
Maybe I'll make it 10 seconds, okay?

297 
00:14:07.446 --> 00:14:17.740
DateTime.Now.ToLocalTime, okay?

298 
00:14:17.741 --> 00:14:20.760
So this tag,is that going to render?

299 
00:14:20.761 --> 00:14:23.590
Am I gonna see that in my HTML?

300 
00:14:23.591 --> 00:14:25.790
>> So this is interesting.

301 
00:14:25.791 --> 00:14:29.365
You're not actually gonnasee a tag rendered, right?

302 
00:14:29.366 --> 00:14:31.680
>> Mm-Hm.>> But you're gonna have this block

303 
00:14:31.681 --> 00:14:37.550
that's gonna end up beingmanaged by the server.

304 
00:14:37.551 --> 00:14:41.300
And the contents of what's insidethat block will be rendered.

305 
00:14:41.301 --> 00:14:43.806
>> Now, I could probably writesome code though, couldn't I.

306 
00:14:43.807 --> 00:14:48.260
I could say, if andthen go into the cache.

307 
00:14:48.261 --> 00:14:50.690
Into cache, check for something.

308 
00:14:50.691 --> 00:14:52.940
I could write C# code thatdid all of this, couldn't I?

309 
00:14:52.941 --> 00:14:58.020
>> You absolutely can do that if youneed that fine grain control, right?

310 
00:14:58.021 --> 00:15:01.410
But if you want tostay HTML focused,

311 
00:15:01.411 --> 00:15:04.800
if this suits your needs andit's very flexible.

312 
00:15:04.801 --> 00:15:06.230
You have all the sourcecode available to you.

313 
00:15:06.231 --> 00:15:08.680
So you could even extendit if you need it to.

314 
00:15:08.681 --> 00:15:10.910
And just use that cache and

315 
00:15:10.911 --> 00:15:15.065
it'll solve probably 90%of your caching needs.

316 
00:15:15.066 --> 00:15:15.910
>> Mm-hm.

317 
00:15:15.911 --> 00:15:21.860
I'm actually gonna show you,Tag Helpers and ASP.NET and GitHub.

318 
00:15:21.861 --> 00:15:24.320
We can actually go up there andwe can explore the code.

319 
00:15:24.321 --> 00:15:26.530
Remember that thisis all open source.

320 
00:15:26.531 --> 00:15:28.790
So I can go and find, look at that.

321 
00:15:28.791 --> 00:15:31.142
I've just gone right up thereto see the source code for it.

322 
00:15:31.143 --> 00:15:32.960
And here's the->> There's the cache.

323 
00:15:32.961 --> 00:15:34.380
>> Cache Tag Helper, okay?

324 
00:15:34.381 --> 00:15:36.450
And we won't get to deep into that.

325 
00:15:36.451 --> 00:15:39.385
But you can see using thatit is using a MemoryCache.

326 
00:15:39.386 --> 00:15:40.880
It's being held in memory.

327 
00:15:40.881 --> 00:15:44.090
And this actuallybuilds on top of a base

328 
00:15:44.091 --> 00:15:47.690
Tag Helper base thatdoes some helpful things.

329 
00:15:47.691 --> 00:15:49.150
There is your attributes.

330 
00:15:49.151 --> 00:15:51.140
>> Yep.>> We'll learn how to make our own

331 
00:15:51.141 --> 00:15:52.090
in a few minutes.

332 
00:15:53.810 --> 00:15:58.610
See each of those HTML attributesthere, when we make one in a moment,

333 
00:15:58.611 --> 00:16:00.770
we will see.

334 
00:16:00.771 --> 00:16:02.183
But where does it render?

335 
00:16:02.184 --> 00:16:04.950
Where does it render? Process?

336 
00:16:04.951 --> 00:16:05.830
>> Yes, process.

337 
00:16:06.930 --> 00:16:09.792
>> Yep, looking at the content.

338 
00:16:09.793 --> 00:16:10.960
Doing some caching.

339 
00:16:10.961 --> 00:16:12.050
There's all the code.

340 
00:16:12.051 --> 00:16:16.414
This is the code I would haveto write if I were to do

341 
00:16:16.415 --> 00:16:18.335
caching correctly.

342 
00:16:18.336 --> 00:16:22.455
And then there'syour write out that-

343 
00:16:22.456 --> 00:16:24.380
>> Right at the var.

344 
00:16:24.381 --> 00:16:25.518
>> That center content there.

345 
00:16:25.519 --> 00:16:26.509
>> Yep.

346 
00:16:26.510 --> 00:16:27.460
>> So let's try that.

347 
00:16:27.461 --> 00:16:28.810
Let's hit that.

348 
00:16:28.811 --> 00:16:29.980
And hit refresh.

349 
00:16:29.981 --> 00:16:32.487
So right there,it says it's 10:00 AM.

350 
00:16:32.488 --> 00:16:34.530
I'm hitting refresh over andover again.

351 
00:16:35.840 --> 00:16:37.071
That's not updating.

352 
00:16:37.072 --> 00:16:39.752
>> Nope it's 10:11 now.

353 
00:16:39.753 --> 00:16:42.070
>> There it is and there's, so

354 
00:16:42.071 --> 00:16:47.970
that is expiring like we said afterten seconds That's a great example.

355 
00:16:47.971 --> 00:16:49.630
But, could I nest them?

356 
00:16:49.631 --> 00:16:51.960
Could I have Tag Helperswithin Tag Helpers?

357 
00:16:51.961 --> 00:16:53.680
>> Yes, you can do that.

358 
00:16:53.681 --> 00:16:56.180
It starts to get a little tricky

359 
00:16:56.181 --> 00:16:59.840
with how the Tag Helpers interactwith each other, if you do have

360 
00:16:59.841 --> 00:17:03.550
further more complicated ones thatsome folks might be creating.

361 
00:17:03.551 --> 00:17:05.630
But certainly withinthat cache Tag Helper,

362 
00:17:05.631 --> 00:17:09.680
it makes sense to cache thingslike your anchor tag creation.

363 
00:17:09.681 --> 00:17:11.590
>> Right, sohere's an interesting idea.

364 
00:17:11.591 --> 00:17:15.460
Remember in the first video,we talk about environments and

365 
00:17:15.461 --> 00:17:16.870
the importance of environments.

366 
00:17:16.871 --> 00:17:19.570
And in the past in ASP.NET,that hasn't been built in.

367 
00:17:19.571 --> 00:17:21.450
>> No.>> The idea that there's develop and

368 
00:17:21.451 --> 00:17:23.310
there's staging and there'stesting and there's whatever.

369 
00:17:23.311 --> 00:17:23.890
>> Absolutely.

370 
00:17:23.891 --> 00:17:24.480
Make your own.

371 
00:17:24.481 --> 00:17:25.080
>> Right.Maria and

372 
00:17:25.081 --> 00:17:29.060
I had, not just production, but alsofancy production, which is better.

373 
00:17:29.061 --> 00:17:29.658
>> Better production.

374 
00:17:29.659 --> 00:17:30.304
>> Better production.

375 
00:17:30.305 --> 00:17:31.450
>> Okay.

376 
00:17:31.451 --> 00:17:35.390
>> There happens to bean environment cache variable.

377 
00:17:35.391 --> 00:17:36.200
>> Yes.

378 
00:17:36.201 --> 00:17:36.766
>> Or cache tag.

379 
00:17:36.767 --> 00:17:39.136
Excuse me, an environmentTag Helper, pardon me.

380 
00:17:39.137 --> 00:17:45.784
So, could I, theoretically,go around this and say,

381 
00:17:45.785 --> 00:17:50.883
<environment names= "Production".

382 
00:17:53.894 --> 00:17:56.521
See how that immediatelyturned color there.

383 
00:17:56.522 --> 00:17:57.539
Look and then when I pasted it.

384 
00:17:57.540 --> 00:17:58.440
You see, that was cool.

385 
00:17:58.441 --> 00:17:59.553
>> Indented, yeah.

386 
00:17:59.554 --> 00:18:00.960
>> Need a little freeindentation there.

387 
00:18:00.961 --> 00:18:01.460
That's nice.

388 
00:18:02.540 --> 00:18:06.960
So now I've got show this whenthe environment is production and

389 
00:18:06.961 --> 00:18:09.260
then do this cache anddo that work there.

390 
00:18:09.261 --> 00:18:12.180
>> Now what if I wantedalso do that caching

391 
00:18:12.181 --> 00:18:14.570
if the environment was stagingas well as production?

392 
00:18:14.571 --> 00:18:18.390
>> So names, if I hover over it,because this is a takeover,

393 
00:18:18.391 --> 00:18:19.206
this is really important.

394 
00:18:19.207 --> 00:18:23.710
See how I hover over the HTML andit just says, yeah,

395 
00:18:23.711 --> 00:18:25.378
that's an h2 doesn'treally tell me a lot.

396 
00:18:25.379 --> 00:18:28.200
This is C# behind it right there.

397 
00:18:28.201 --> 00:18:31.120
So it's not only tellingme the Tag Helper, but

398 
00:18:31.121 --> 00:18:35.208
it's literally saying the exactobject, the exact namespace and

399 
00:18:35.209 --> 00:18:38.770
it says a comma-separatedlist of environment names.

400 
00:18:38.771 --> 00:18:42.020
>> Cool.>> So, Staging, right?

401 
00:18:42.021 --> 00:18:43.660
So the docs are right there as well.

402 
00:18:43.661 --> 00:18:44.380
>> Too easy.

403 
00:18:44.381 --> 00:18:45.110
>> It is too easy.

404 
00:18:46.770 --> 00:18:47.270
So look at that.

405 
00:18:48.640 --> 00:18:50.000
So we're not in production.

406 
00:18:50.001 --> 00:18:52.664
>> Yup.>> We don't see it.

407 
00:18:52.665 --> 00:18:54.064
Change it to development.

408 
00:18:54.065 --> 00:18:55.580
Hit refresh.

409 
00:18:55.581 --> 00:18:56.130
>> And there it is.

410 
00:18:56.131 --> 00:18:56.990
>> And we do.

411 
00:18:56.991 --> 00:18:57.540
Pretty nice.

412 
00:18:58.540 --> 00:19:02.469
So, for folks that are thinkingabout things in the context of HTML,

413 
00:19:02.470 --> 00:19:03.500
this just works.

414 
00:19:03.501 --> 00:19:05.630
It's really, really clean andit's really easy.

415 
00:19:05.631 --> 00:19:06.940
That's one example.

416 
00:19:08.310 --> 00:19:12.390
Here's a little bit more complicatedone, where we're saying not just

417 
00:19:12.391 --> 00:19:15.900
an action, but we're passingin additional information.

418 
00:19:15.901 --> 00:19:18.770
So we're saying asp-route-id.

419 
00:19:18.771 --> 00:19:21.830
This is additional parameters forthe route.

420 
00:19:21.831 --> 00:19:23.550
And then we say, edit.

421 
00:19:23.551 --> 00:19:25.270
So what's going on here?

422 
00:19:25.271 --> 00:19:28.250
Let's look at this page.

423 
00:19:28.251 --> 00:19:30.620
We got our list of movies, right?

424 
00:19:30.621 --> 00:19:33.680
Now, I wanna just make thisa little smaller and zoom in.

425 
00:19:33.681 --> 00:19:34.650
And what we are gonna do is,

426 
00:19:34.651 --> 00:19:39.300
I'm gonna hover over these butwe're gonna watch the left side.

427 
00:19:39.301 --> 00:19:41.690
So, watch over here on the left.

428 
00:19:41.691 --> 00:19:43.500
>> When it shows you that URL?

429 
00:19:43.501 --> 00:19:44.590
>> Yeah, look at that.

430 
00:19:44.591 --> 00:19:45.270
>> Yeah.

431 
00:19:45.271 --> 00:19:48.168
>> So details at four,details five, etc.

432 
00:19:48.169 --> 00:19:50.620
Edit, Delete, right?

433 
00:19:50.621 --> 00:19:55.289
So that route information foreach individual item

434 
00:19:55.290 --> 00:19:59.749
that we are spinningthrough in this for-loop.

435 
00:19:59.750 --> 00:20:00.419
>> This for-loop, yeah.

436 
00:20:00.420 --> 00:20:01.751
>> These are for-loop right there.

437 
00:20:01.752 --> 00:20:03.748
For each item in log.

438 
00:20:03.749 --> 00:20:07.660
We're generating more sophisticatedand more complicated ones.

439 
00:20:07.661 --> 00:20:09.017
And if we wanted tochange that around,

440 
00:20:09.018 --> 00:20:10.425
we would change it atthe routing table.

441 
00:20:10.426 --> 00:20:11.330
>> Yup.

442 
00:20:11.331 --> 00:20:12.640
>> None of this code would change.

443 
00:20:12.641 --> 00:20:13.490
>> None of it changes.

444 
00:20:13.491 --> 00:20:14.448
It all stays the same.

445 
00:20:14.449 --> 00:20:17.690
And right, we can changethe name of the controller.

446 
00:20:17.691 --> 00:20:19.970
We can change the base level.

447 
00:20:19.971 --> 00:20:22.995
We can change the pathing ofwhere this thing lives and

448 
00:20:22.996 --> 00:20:25.400
all of our anchor tagsjust update automatically.

449 
00:20:25.401 --> 00:20:27.980
>> All right, sowhy don't we do this?

450 
00:20:27.981 --> 00:20:30.890
Let's try to write ourown custom takeover.

451 
00:20:30.891 --> 00:20:31.640
>> Sounds good.

452 
00:20:31.641 --> 00:20:35.386
>> All right, so let's go overto the Solution Explorer.

453 
00:20:35.387 --> 00:20:39.728
And I'll just stick it inthe root of the application.

454 
00:20:39.729 --> 00:20:45.250
I'm gonna say add class, and I'mgonna call it the Repeat TagHelper.

455 
00:20:45.251 --> 00:20:47.615
We're gonna make a TagHelperthat will just repeat stuff,

456 
00:20:47.616 --> 00:20:49.140
it will be a for loop TagHelper.

457 
00:20:49.141 --> 00:20:49.790
>> Sure.

458 
00:20:49.791 --> 00:20:53.666
>> Okay, sowe've got Repeat TagHelper,

459 
00:20:53.667 --> 00:20:57.660
and I'm going toderive from TagHelper.

460 
00:20:59.270 --> 00:21:03.480
And of course it is confused aboutthat, it doesn't know what to do.

461 
00:21:03.481 --> 00:21:06.090
I can click on the littleQuick Action here, and it says,

462 
00:21:06.091 --> 00:21:08.070
this is a Razor TagHelper.

463 
00:21:08.071 --> 00:21:08.926
So I just added that.

464 
00:21:08.927 --> 00:21:10.635
There you go.

465 
00:21:10.636 --> 00:21:12.845
Just added that usingstatement right there.

466 
00:21:12.846 --> 00:21:15.385
>> And we didn't have toadd any extra references.

467 
00:21:15.386 --> 00:21:17.391
>> No, that's a good point becauseTagHelpers are fundamental,

468 
00:21:17.392 --> 00:21:18.475
TagHelpers are fundamental.

469 
00:21:18.476 --> 00:21:19.518
>> They're a part of Razor.

470 
00:21:19.519 --> 00:21:23.113
>> They're a part of Razor,and Razor's part of NBC, so

471 
00:21:23.114 --> 00:21:24.835
everybody wins.

472 
00:21:24.836 --> 00:21:27.595
So the base class TagHelper,of course,

473 
00:21:27.596 --> 00:21:30.400
I can right-click on that andsay go to definition.

474 
00:21:30.401 --> 00:21:33.570
And we can see what is required forthat base class.

475 
00:21:33.571 --> 00:21:34.630
There's the order.

476 
00:21:34.631 --> 00:21:35.590
There's Init.

477 
00:21:35.591 --> 00:21:38.859
But all we really need tocare about is ProcessAsync.

478 
00:21:38.860 --> 00:21:39.850
>> Yeah.

479 
00:21:39.851 --> 00:21:43.430
>> And we talked about processversus ProcessAsync a little bit

480 
00:21:43.431 --> 00:21:44.280
in the beginner stuff.

481 
00:21:44.281 --> 00:21:48.320
But the general idea with async is Ilike to think about it as like I do

482 
00:21:48.321 --> 00:21:52.690
it, but do it in a way that doesn'tuse all the resources and wait.

483 
00:21:52.691 --> 00:21:56.020
If I told you to go to Chipotle andI did it as a process.

484 
00:21:56.021 --> 00:21:56.890
I said, go to Chipotle.

485 
00:21:56.891 --> 00:21:59.836
And I just stare atyou until it was done.

486 
00:21:59.837 --> 00:22:03.050
Doing it asynchronously,you just call me back.

487 
00:22:03.051 --> 00:22:05.489
Let me know whenyou've got my tacos.

488 
00:22:07.630 --> 00:22:09.486
>> I might be hanging out there fora little bit, so

489 
00:22:09.487 --> 00:22:10.746
I may have to grab a Coke and sit.

490 
00:22:10.747 --> 00:22:11.888
>> You may end up not coming back.

491 
00:22:11.889 --> 00:22:19.430
So in RepeatTagHelper,I'm gonna say then override, okay?

492 
00:22:19.431 --> 00:22:22.180
And it's gonna ask me whichthing I wanna override.

493 
00:22:22.181 --> 00:22:22.680
>> Right.

494 
00:22:24.300 --> 00:22:26.850
>> And I tell you it's this kind ofIntelliSense stuff that spoils me.

495 
00:22:26.851 --> 00:22:27.789
You know what I mean?

496 
00:22:27.790 --> 00:22:29.466
>> It does.>> It rots your brain.

497 
00:22:29.467 --> 00:22:32.627
I don't know if I could dothis in a Visual Studio code.

498 
00:22:32.628 --> 00:22:34.340
>> [LAUGH]>> It's hard work.

499 
00:22:34.341 --> 00:22:38.050
I used to be able to do this inNotepad but I'm afraid not anymore.

500 
00:22:38.051 --> 00:22:42.400
So here we've got the context forthe TagHelper and then output.

501 
00:22:43.570 --> 00:22:47.020
And then the base class herethat says ProcessAsync.

502 
00:22:47.021 --> 00:22:49.630
So it's this chain of TagHelpers and

503 
00:22:49.631 --> 00:22:53.430
I'm in that largerrendering of Razor stuff.

504 
00:22:53.431 --> 00:22:56.425
So what we're gonna dois we're gonna say for-

505 
00:22:56.426 --> 00:22:57.673
>> I love that tag completion on

506 
00:22:57.674 --> 00:22:58.246
that stuff.

507 
00:22:58.247 --> 00:23:03.390
>> Every time, there's so much goodstuff, we're showing real prop.

508 
00:23:03.391 --> 00:23:04.304
That's a good one.

509 
00:23:04.305 --> 00:23:06.758
[INAUDIBLE] I've gotten sobad with for

510 
00:23:06.759 --> 00:23:10.140
that I sometimes forgetthe order of the arguments.

511 
00:23:10.141 --> 00:23:11.310
I have to write it by hand.

512 
00:23:11.311 --> 00:23:12.660
>> Yeah,that's going on your review.

513 
00:23:14.110 --> 00:23:17.600
For, from zero to count.

514 
00:23:17.601 --> 00:23:21.420
>> Okay, and we're gonna needto figure out what count is.

515 
00:23:21.421 --> 00:23:23.480
We don't have to count right now,okay?

516 
00:23:23.481 --> 00:23:26.210
Because we wanna make a repeat andthe repeat is gonna need to count.

517 
00:23:26.211 --> 00:23:28.070
So we'll probably need a property.

518 
00:23:28.071 --> 00:23:34.020
So, let's go prop, tab, tab, Count.

519 
00:23:35.020 --> 00:23:36.610
All right, now we've gotta count.

520 
00:23:36.611 --> 00:23:39.524
So you're making an integerproperty on this, and then,

521 
00:23:39.525 --> 00:23:41.669
we're gonna exposethat as an attribute.

522 
00:23:41.670 --> 00:23:42.490
>> Right.

523 
00:23:42.491 --> 00:23:45.320
>> Butattributes in HTML are strings.

524 
00:23:45.321 --> 00:23:47.090
>> So this is really cool.

525 
00:23:47.091 --> 00:23:49.700
What I like to do when I make myTagHelpers is, I make a comment up

526 
00:23:49.701 --> 00:23:53.560
at the top, and I describe whatthe TagHelper is gonna look like.

527 
00:23:53.561 --> 00:23:59.297
So I'm imagining that I'mgonna say repeat count = 5,

528 
00:23:59.298 --> 00:24:03.131
and then some HTMLhere in the middle.

529 
00:24:03.132 --> 00:24:06.962
The TagHelper base class,the TagHelper subsystems can

530 
00:24:06.963 --> 00:24:09.875
automatically mapwhat's going on here.

531 
00:24:09.876 --> 00:24:14.061
So in this case,count to that property.

532 
00:24:14.062 --> 00:24:18.360
It's gonna turn that stringinto an int automatically.

533 
00:24:18.361 --> 00:24:23.050
So if I was gonna callthis CountOfThings,

534 
00:24:23.051 --> 00:24:25.270
that's the way youwould do it in C#.

535 
00:24:25.271 --> 00:24:27.572
The way you would do it inHTML would be like that.

536 
00:24:27.573 --> 00:24:31.260
>> They call that what, kabob-case?

537 
00:24:31.261 --> 00:24:35.700
>> Yeah, this is kabob, so that'sa funny little side note, right?

538 
00:24:35.701 --> 00:24:40.339
So there's Hungarian notation andthere's PascalCasing.

539 
00:24:40.340 --> 00:24:41.287
>> Mm-hm.

540 
00:24:41.288 --> 00:24:46.948
>> And there's camelCasing,and then there's kabob-casing.

541 
00:24:46.949 --> 00:24:47.987
>> Yeah.

542 
00:24:47.988 --> 00:24:48.930
>> Isn't that great?

543 
00:24:50.005 --> 00:24:50.935
So that people will watch this.

544 
00:24:50.936 --> 00:24:53.865
They'll spend an entireday watching this thing.

545 
00:24:53.866 --> 00:24:56.681
They'll get no value out of it andthen they're gonna tweet us later.

546 
00:24:56.682 --> 00:24:59.125
And they go, that whole thing,not so much, but

547 
00:24:59.126 --> 00:25:00.720
the kabob casing, did not know that.

548 
00:25:00.721 --> 00:25:03.375
>> [LAUGH]>> Fascinating bit of context there

549 
00:25:03.376 --> 00:25:05.775
that we did not have,a little bit of history, okay?

550 
00:25:05.776 --> 00:25:06.645
So there's Count.

551 
00:25:08.205 --> 00:25:12.970
So then this base here where wecan't return in the middle of that.

552 
00:25:12.971 --> 00:25:14.378
>> No.>> Cuz you can't return

553 
00:25:14.379 --> 00:25:17.850
in the middle of the for loop, butwe do have this TagHelper output.

554 
00:25:17.851 --> 00:25:21.123
So what we're gonna do is we'regonna take that content and

555 
00:25:21.124 --> 00:25:23.090
we're just gonna Append the HTML.

556 
00:25:23.091 --> 00:25:26.051
Okay, we gonna go andjust say Append, Append, Append.

557 
00:25:26.052 --> 00:25:27.810
We're gonna for loop through that.

558 
00:25:27.811 --> 00:25:28.930
But what do we wanna do?

559 
00:25:28.931 --> 00:25:32.570
Well, we're gonna say repeat, right?

560 
00:25:32.571 --> 00:25:37.260
And there is some HTML,not just a little chunk of HTML, but

561 
00:25:37.261 --> 00:25:38.360
it could be a whole bunch of stuff.

562 
00:25:38.361 --> 00:25:40.720
>> Yeah,anything that's inside this tag.

563 
00:25:40.721 --> 00:25:42.720
>> Right, andit could be a deep tree.

564 
00:25:42.721 --> 00:25:44.790
>> Sure.>> Going all the way down.

565 
00:25:44.791 --> 00:25:48.944
So what we're gonna need to dois get that child's content.

566 
00:25:48.945 --> 00:25:51.458
We're gonna have to go andsay, output.

567 
00:25:54.037 --> 00:25:55.969
And we'll say GetChildContent but

568 
00:25:55.970 --> 00:25:58.880
we're doing it Async cuzit might take awhile.

569 
00:25:58.881 --> 00:25:59.400
>> Sure.

570 
00:25:59.401 --> 00:26:00.359
>> Okay?>> If there's other stuff

571 
00:26:00.360 --> 00:26:01.050
going on there.

572 
00:26:01.051 --> 00:26:02.110
>> And if there's caching.

573 
00:26:02.111 --> 00:26:03.070
Do we want to use caching?

574 
00:26:03.071 --> 00:26:04.270
Do we not wanna use caching?

575 
00:26:04.271 --> 00:26:05.790
We gotta think about that as well.

576 
00:26:05.791 --> 00:26:10.680
I'll say no, butwe're gonna have to await that.

577 
00:26:10.681 --> 00:26:11.330
>> Because it's Async.

578 
00:26:11.331 --> 00:26:12.192
>> Because it's Async, okay?

579 
00:26:12.193 --> 00:26:12.740
>> Gotcha.

580 
00:26:14.410 --> 00:26:18.610
>> All right, so,output await Async.

581 
00:26:18.611 --> 00:26:20.157
>> Actually, I think on line 19,

582 
00:26:20.158 --> 00:26:23.255
in your signature, I think youneed an Async keyword on that.

583 
00:26:23.256 --> 00:26:24.720
>> So, that's a good point.

584 
00:26:24.721 --> 00:26:29.970
When I did the override,it popped up the little,

585 
00:26:29.971 --> 00:26:31.462
what kind of overridedo you wanna do?

586 
00:26:32.590 --> 00:26:35.973
But it did not include the Async,[CROSSTALK] so

587 
00:26:35.974 --> 00:26:38.588
that override helper did not know.

588 
00:26:38.589 --> 00:26:42.860
So if I hover over this,it's saying well, it's awaitable.

589 
00:26:42.861 --> 00:26:45.580
So we can do something about that,so we'll say async.

590 
00:26:45.581 --> 00:26:49.290
All right, andthen my squigglies go away.

591 
00:26:49.291 --> 00:26:50.610
>> Visual Studio is happy.

592 
00:26:50.611 --> 00:26:54.600
>> Okay, so this is inthe namespace WebApplication23.

593 
00:26:56.090 --> 00:26:58.292
Will it automaticallybe available to us?

594 
00:26:58.293 --> 00:26:59.304
I don't know.

595 
00:26:59.305 --> 00:27:03.117
>> I don't think view imports had.

596 
00:27:03.118 --> 00:27:04.527
>> Let's find out, let's find out.

597 
00:27:04.528 --> 00:27:05.603
I don't know.

598 
00:27:05.604 --> 00:27:08.272
This is the thing we were talkingabout in the introductory thing is

599 
00:27:08.273 --> 00:27:10.430
that, you can readthe docs all you want.

600 
00:27:10.431 --> 00:27:12.570
But ultimately you do haveto experiment for yourself.

601 
00:27:12.571 --> 00:27:13.150
>> Sure.

602 
00:27:13.151 --> 00:27:16.120
>> So let's get rid of environment,

603 
00:27:16.121 --> 00:27:19.400
just for cleanliness sake,actually I'll just do repeat.

604 
00:27:20.955 --> 00:27:24.399
So I'm not getting anykind of IntelliSense here.

605 
00:27:24.400 --> 00:27:25.107
>> No.

606 
00:27:25.108 --> 00:27:26.990
>> All right.>> It doesn't know what repeat is.

607 
00:27:26.991 --> 00:27:30.850
>> So let's go back,like you said to view imports.

608 
00:27:30.851 --> 00:27:31.490
>> There it is.

609 
00:27:31.491 --> 00:27:36.176
>> All right, sohere we'll say addTagHelper,

610 
00:27:36.177 --> 00:27:39.792
and it was in WebApplication23.

611 
00:27:39.793 --> 00:27:43.110
So I'm basically saying addthe TagHelpers from this project.

612 
00:27:43.111 --> 00:27:43.740
>> Yup.

613 
00:27:43.741 --> 00:27:46.240
>> Okay, and then we'll close that.

614 
00:27:47.340 --> 00:27:48.440
We'll go back over here.

615 
00:27:51.764 --> 00:27:55.050
And we'll see if I canget repeat to show up.

616 
00:27:55.051 --> 00:27:59.400
So let's see if I have to open andclose that document again.

617 
00:27:59.401 --> 00:28:00.820
I don't know.

618 
00:28:00.821 --> 00:28:03.210
Maybe I have to re-compile.

619 
00:28:03.211 --> 00:28:03.840
Where'd that go?

620 
00:28:03.841 --> 00:28:07.132
That was in Movies, okay?

621 
00:28:11.251 --> 00:28:12.420
There it is.

622 
00:28:12.421 --> 00:28:13.320
>> Interesting, so

623 
00:28:13.321 --> 00:28:15.790
in this particular case myIntelliSense, there it is.

624 
00:28:15.791 --> 00:28:18.431
So it just took a moment there, yousee, because it's in the background.

625 
00:28:18.432 --> 00:28:19.507
>> It wasn't done compiling.

626 
00:28:19.508 --> 00:28:21.210
>> It's asynchronously compiling,it's building that stuff up.

627 
00:28:21.211 --> 00:28:23.421
But notice as I start typing,

628 
00:28:23.422 --> 00:28:26.790
it even lets me knowthat that's available.

629 
00:28:26.791 --> 00:28:28.829
So I'm getting IntelliSensecompletion on that, and

630 
00:28:28.830 --> 00:28:29.370
look at that.

631 
00:28:29.371 --> 00:28:31.130
>> Yeah,there's your count attribute.

632 
00:28:31.131 --> 00:28:34.160
>> That right there, let's just zoomin and drink that in for a second.

633 
00:28:34.161 --> 00:28:39.280
Cuz this really is the moment forme when I got TagHelpers, right?

634 
00:28:39.281 --> 00:28:40.370
>> Sure.

635 
00:28:40.371 --> 00:28:42.970
>> I'm in HTML,I'm thinking HTML is convenient.

636 
00:28:42.971 --> 00:28:44.590
I'm ready to get an HTML page.

637 
00:28:44.591 --> 00:28:49.590
It's suggesting an HTML attribute,and then the tooltip pops up and

638 
00:28:49.591 --> 00:28:53.650
says, as a reminder, you know thisis an int, that's a property, right?

639 
00:28:53.651 --> 00:28:55.130
>> Yeah.>> It's a really nice

640 
00:28:55.131 --> 00:28:56.050
bit of information there.

641 
00:28:56.051 --> 00:28:59.020
>> But what happens if youwere to put a string in there?

642 
00:28:59.021 --> 00:29:00.990
>> Well, I'm gonna haveto put a string in there.

643 
00:29:00.991 --> 00:29:01.930
A string like this?

644 
00:29:01.931 --> 00:29:03.870
>> Yeah, if you put five,write F-I-V-E.

645 
00:29:03.871 --> 00:29:06.164
>> There you go,that's a great question.

646 
00:29:06.165 --> 00:29:07.995
I don't know, let's find out.

647 
00:29:07.996 --> 00:29:09.441
I bet you bad thingsare gonna happen.

648 
00:29:12.604 --> 00:29:15.390
Oops, let me zoom out andfinish my repeat.

649 
00:29:20.645 --> 00:29:22.100
Okay, did it save?

650 
00:29:22.101 --> 00:29:23.012
Yes.

651 
00:29:23.013 --> 00:29:26.430
>> Visual Studios upsetted us.

652 
00:29:26.431 --> 00:29:27.860
>> It doesn't know.

653 
00:29:27.861 --> 00:29:31.120
It says, the name five does notexist in a current context.

654 
00:29:31.121 --> 00:29:34.250
It's thinking thatfive is a variable.

655 
00:29:34.251 --> 00:29:34.880
>> Right.

656 
00:29:34.881 --> 00:29:37.490
>> All right, so it's smart.

657 
00:29:38.590 --> 00:29:41.720
You are kind of in C# here.

658 
00:29:41.721 --> 00:29:44.560
You're in a .NETuniverse at that moment.

659 
00:29:44.561 --> 00:29:46.752
>> And if you change it to->> And if you change it to 5,

660 
00:29:46.753 --> 00:29:47.296
looks okay.

661 
00:29:47.297 --> 00:29:48.065
So let's see if it actually works,though.

662 
00:29:56.557 --> 00:29:57.158
Look at that.

663 
00:29:57.159 --> 00:29:58.614
>> Yeah, fancy, fancy.

664 
00:29:58.615 --> 00:30:00.006
Isn't that good?

665 
00:30:00.007 --> 00:30:04.870
So now I can go and do that anywherethings need to be repeated.

666 
00:30:04.871 --> 00:30:06.230
If I pick it up and

667 
00:30:06.231 --> 00:30:10.980
I move it with a larger scope->> Sure.

668 
00:30:12.290 --> 00:30:13.300
>> Things are gonna change.

669 
00:30:13.301 --> 00:30:17.630
So being able to write thesethings is super powerful and

670 
00:30:17.631 --> 00:30:20.200
people have made someamazing examples of these.

671 
00:30:20.201 --> 00:30:22.350
>> There are some veryinteresting ones out there.

672 
00:30:22.351 --> 00:30:26.900
>> There was one that you pointed meto that was done by David Paquette,

673 
00:30:26.901 --> 00:30:30.400
who is an open source person in MVP.

674 
00:30:30.401 --> 00:30:33.930
And he wrote a series ofsample TagHelpers and

675 
00:30:33.931 --> 00:30:35.480
they're all open source as well.

676 
00:30:35.481 --> 00:30:37.110
>> Yeah, and they're available for

677 
00:30:37.111 --> 00:30:41.090
you to add to your project usingthe NuGet Package Manager.

678 
00:30:41.091 --> 00:30:43.880
>> So that's interesting,let's grab one of them.

679 
00:30:43.881 --> 00:30:48.140
He's got TagHelperSamples.Markdown.

680 
00:30:48.141 --> 00:30:51.160
I'm gonna go back overto Visual Studio.

681 
00:30:51.161 --> 00:30:52.960
And again, I could addthis in a number of ways.

682 
00:30:52.961 --> 00:30:54.967
Some people like to do itin their project.Jason.

683 
00:30:54.968 --> 00:30:56.660
>> Mm-hm.>> Some people like to do it

684 
00:30:56.661 --> 00:30:58.310
at the command prompt.

685 
00:30:58.311 --> 00:31:01.238
Other people like to right-click anddo it within the-

686 
00:31:01.239 --> 00:31:02.060
>> Graphically.

687 
00:31:02.061 --> 00:31:03.990
>> Graphically within References.

688 
00:31:03.991 --> 00:31:05.740
Totally up to you howyou wanna do that.

689 
00:31:07.490 --> 00:31:10.887
So we'll go here andI'll put in TagHelperSamples.

690 
00:31:10.888 --> 00:31:11.877
There he is.

691 
00:31:14.507 --> 00:31:20.490
Hit OK, of course that getsadded to the project.JSON, okay?

692 
00:31:20.491 --> 00:31:21.905
>> There it isrestoring the package.

693 
00:31:21.906 --> 00:31:23.740
>> Yeah, and this is interesting,

694 
00:31:23.741 --> 00:31:28.100
because it has Markdown it's alsogonna bring in a dependency.

695 
00:31:28.101 --> 00:31:29.315
>> Another package.

696 
00:31:29.316 --> 00:31:35.460
>> Mm-hm, so this particular oneis in TagHelperSamples.Markdown.

697 
00:31:35.461 --> 00:31:40.258
So if I remember correctly,I would go over to View Imports and

698 
00:31:40.259 --> 00:31:42.393
we would add that, right?

699 
00:31:42.394 --> 00:31:45.580
We're gonna add all of them.

700 
00:31:45.581 --> 00:31:49.030
Add TagHelper and,what was it, TagHelperSamples?

701 
00:31:49.031 --> 00:31:51.912
>> TagHelperSamples.

702 
00:31:51.913 --> 00:31:56.175
>> TagHelperSamples,,is it TagHelperSamples to get them,

703 
00:31:56.176 --> 00:31:57.685
would I get them all?

704 
00:31:59.766 --> 00:32:01.590
Or just the Markdown ones?

705 
00:32:01.591 --> 00:32:05.350
Let's do that,let's grab just those.

706 
00:32:05.351 --> 00:32:07.740
Cuz the Markdown one is the oneI'm the most excited about.

707 
00:32:09.300 --> 00:32:11.440
>> There's a extra quote at the end.

708 
00:32:11.441 --> 00:32:14.290
>> Yeah, we can do it with quotes orwithout them, okay?

709 
00:32:15.320 --> 00:32:19.420
All right, so those TagHelperSamplesare then added into our project.

710 
00:32:19.421 --> 00:32:19.990
There they are.

711 
00:32:21.590 --> 00:32:22.090
>> Yep.

712 
00:32:23.650 --> 00:32:28.460
>> And if we look at how hisTagHelperSamples work, he's

713 
00:32:28.461 --> 00:32:32.320
actually built this great websitewhere you can see them running.

714 
00:32:32.321 --> 00:32:36.750
So we'll take some simple markdown,just borrow it from his stuff.

715 
00:32:36.751 --> 00:32:38.322
Markdown, of course,

716 
00:32:38.323 --> 00:32:41.631
is a way to make HTMLwithout having to write HTML.

717 
00:32:41.632 --> 00:32:42.223
>> Yeah.

718 
00:32:42.224 --> 00:32:45.161
>> You know how often you have a CMSor something where you have user

719 
00:32:45.162 --> 00:32:47.226
input andthey just want to bolt something.

720 
00:32:47.227 --> 00:32:47.805
>> Sure.>> But

721 
00:32:47.806 --> 00:32:50.017
you don't really feel comfortableputting angle brackets or-

722 
00:32:50.018 --> 00:32:51.016
>> No, I don't wanna

723 
00:32:51.017 --> 00:32:52.230
have to write HTML.

724 
00:32:52.231 --> 00:32:53.970
I wanna be able to use simple,

725 
00:32:53.971 --> 00:32:57.600
single keystrokes whileI'm here on my keyboard.

726 
00:32:57.601 --> 00:32:59.430
>> Right, so I just dropped that in,

727 
00:32:59.431 --> 00:33:01.470
and I'm actually gonnause it as part of repeat.

728 
00:33:01.471 --> 00:33:03.590
So we wrote repeat,he wrote markdown.

729 
00:33:03.591 --> 00:33:06.620
They're both Tag Helpers,should just work.

730 
00:33:06.621 --> 00:33:07.422
>> Make the magic happen, let's see.

731 
00:33:07.423 --> 00:33:09.360
>> [LAUGH] No pressure.

732 
00:33:09.361 --> 00:33:09.860
>> None.

733 
00:33:11.340 --> 00:33:17.653
>> Hit Refresh,we'll have to compile again.

734 
00:33:17.654 --> 00:33:18.643
And look at that.>> Look at that.

735 
00:33:18.644 --> 00:33:20.250
>> Isn't that nice?

736 
00:33:20.251 --> 00:33:23.507
That is just like a taste,just a taste, there's so

737 
00:33:23.508 --> 00:33:25.217
much you can do with these.

738 
00:33:25.218 --> 00:33:28.123
If you go over to TagHelper Samples,his site,

739 
00:33:28.124 --> 00:33:33.340
he's got ones for Bootstrap that canhelp do alerts and things like this.

740 
00:33:33.341 --> 00:33:34.830
So you would write alert.

741 
00:33:34.831 --> 00:33:38.310
So you're almost writing your own,you're inventing your own HTML.

742 
00:33:38.311 --> 00:33:39.320
>> You are, so

743 
00:33:39.321 --> 00:33:42.835
he's also then triggeringJavaScript with some of these.

744 
00:33:42.836 --> 00:33:44.690
>> Yep,you can do all kinds of things.

745 
00:33:44.691 --> 00:33:48.450
He's got divs that match Bootstrap.

746 
00:33:48.451 --> 00:33:51.580
It's up to you how far you wantto take these kinds of things.

747 
00:33:51.581 --> 00:33:55.070
You can make them assophisticated as you want.

748 
00:33:55.071 --> 00:33:56.840
The caching one isquite sophisticated.

749 
00:33:56.841 --> 00:33:59.760
All the code is available on GitHub.

750 
00:33:59.761 --> 00:34:03.346
>> And I understand thata number of our commercial

751 
00:34:03.347 --> 00:34:08.108
control vendors are makingTag Helpers now for ASP.NET Core.

752 
00:34:08.109 --> 00:34:08.649
>> Mm-hm.

753 
00:34:08.650 --> 00:34:12.530
>> So if you're used to and familiarwith using a grid control from one

754 
00:34:12.531 --> 00:34:16.274
of those vendors, or a chartcontrol, there's now Tag Helpers

755 
00:34:16.275 --> 00:34:20.388
available that will do the samefunctionality inside ASP.Net Core.

756 
00:34:20.389 --> 00:34:24.220
>> Okay, so this isn't a toy, it'snot just little this, little that.

757 
00:34:24.221 --> 00:34:27.135
I could actually make an entireJavaScript sortable grid.

758 
00:34:27.136 --> 00:34:28.910
Yeah, absolutely.

759 
00:34:28.911 --> 00:34:31.500
>> All right.>> Very impressive offerings from

760 
00:34:31.501 --> 00:34:33.310
a number of those vendors out there.

761 
00:34:33.311 --> 00:34:35.660
>> All right, sothat is Tag Helpers.

762 
00:34:35.661 --> 00:34:37.586
It should give you a tasteof what you can do and

763 
00:34:37.587 --> 00:34:39.783
where you can get startedon creating Tag Helpers.

764 
00:34:39.784 --> 00:34:41.811
We'll take a quick break andwe'll be right back.

